{% extends "app/base.html" %}
{% load static from staticfiles %}
{% block title %}历史数据{% endblock %}
{% block body_content %}
    <div class="clearfix">
        <div class="col-md-8">
            <div class="clearfix" style="">
                <div class="col-md-12" style="width: 100%; height: auto !important; min-height: 30px;font-size: 14px;
                background-color: #f4f4f4; overflow: hidden;line-height: 30px;">
                    <span class="">PM2.5</span>
                    <ul style="display: inline-block;margin-bottom: 0px;!important; float: right; " class="li-tab">
                        <li class="li-round-sm active" style="display: inline-block;">今日数据</li>
                        <li class="li-round-sm" style="display: inline-block;">日平均数据</li>
                        <li class="li-round-sm" style="display: inline-block;">月平均数据</li>
                    </ul>
                </div>
                <div id="pm25_historical" style="min-width:100%;height:300px; border: 1px solid #bbbaba;"></div>
            </div>
            <div class="clearfix" style="margin-top: 20px;">
                <div class="col-md-12" style="width: 100%; height: auto !important; min-height: 30px;font-size: 14px;
                background-color: #f4f4f4; overflow: hidden;line-height: 30px;">
                    <span class="">当日数据</span>
                </div>
                <div id="other_day_historical" style="min-width:100%;height:300px; border: 1px solid #bbbaba;"></div>
            </div>
            <div class="clearfix" style="margin-top: 20px;">
                <div class="col-md-12" style="width: 100%; height: auto !important; min-height: 30px;font-size: 14px;
                background-color: #f4f4f4; overflow: hidden;line-height: 30px;">
                    <span class="">历史数据</span>
                    <ul style="display: inline-block;margin-bottom: 0px;!important; float: right; " class="li-tab">
                        <li class="li-round-sm active" style="display: inline-block;">一周数据</li>
                        <li class="li-round-sm" style="display: inline-block;">一月数据</li>
                        <li class="li-round-sm" style="display: inline-block;">月平均数据</li>
                    </ul>
                </div>
                <div id="other_historical" style="min-width:100%;height:300px; border: 1px solid #bbbaba;"></div>
            </div>
        </div>
        <div class="col-md-4" style="">
            <table class="table table-striped text-center">
                <tr>
                    <th class="text-center">监测站点</th>
                    <th class="text-center">PM2.5值(ug/m3)</th>
                    <th class="text-center">空气质量</th>
                </tr>
            </table>
            <div style="height:900px; overflow: auto;">
                <table class="table table-striped text-center table-td-center">
                    <tbody>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                        <tr><td>张家湾</td><td>88</td><td style="vertical-align: middle;"><span>优</span><span class="level1"></span></td></tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>
{% endblock %}
{% block special_js %}
    <script src= {% static "app/js/modules/exporting.js" %}></script>
    <script src= {% static "app/js/highcharts-more.js" %}></script>
    <script src= {% static "app/js/modules/solid-gauge.js" %}></script>
    <script>
        $(function () {
            var colors = ['#FF0000', '#90BF18', '#EDCA4E'];
            Highcharts.getOptions().colors = Highcharts.map(colors, function (color) {
                 return {
                     radialGradient: { cx:0, cy: -0.8,r:2.3 },
                     stops: [[0, color], [2, Highcharts.Color(color).brighten(14).get('rgb')] // darken
                     ]
                 };
             });
            $('#pm25_historical').highcharts({

                chart: {
                    type: 'column'
                },
                title: {
                    text: '最近一小时SO2'
                },
                subtitle: {
                    text: '来源：各站点平均值'
                },
                credits: false,
                xAxis: {
                    categories: [
                        '09:05',
                        '09:10',
                        '09:15',
                        '09:20',
                        '09:25',
                        '09:30',
                        '09:35',
                        '09:40',
                        '09:45',
                        '09:50',
                        '09:55',
                        '10:00',
                    ],
                    crosshair: true
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'SO2 (ug/m3)'
                    }
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                },
                plotOptions: {
                    column: {
                        pointPadding: 0.2,
                        borderWidth: 0
                    }
                },
                series: [{
                    zones: [{
                        value: 100,
                        color: colors[1]
                    }, {
                        value: 150,
                        color: colors[2]
                    }],
                    name: 'SO2',
                    data: [49.9, 71.5, 106.4, 77.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]
                }]
            });
        });
    </script>
    <script>
        $(function () {
            $('#other_historical').highcharts({
                chart: {
                    type: 'column'
                },
                title: {
                    text: '历史数据'
                },
                subtitle: {
                    text: '来源：各站点平均值'
                },
                xAxis: {
                    categories: [
                        '11-03',
                        '11-04',
                        '11-05',
                        '11-06',
                        '11-07',
                        '11-08',
                        '11-09'
                    ],
                    crosshair: true
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'Rainfall (mm)'
                    }
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                },
                plotOptions: {
                    column: {
                        pointPadding: 0.2,
                        borderWidth: 0
                    }
                },
                series: [{
                    name: 'SO2',
                    data: [176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]
                }, {
                    name: 'O3',
                    data: [84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3]
                }, {
                    name: 'CO',
                    data: [48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 51.2]
                }, {
                    name: 'NO2',
                    data: [75.5, 57.4, 60.4, 47.6, 39.1, 46.8, 51.1]
                },{
                    name: 'PM10',
                    data: [75.5, 57.4, 60.4, 47.6, 39.1, 46.8, 51.1]
                }]
            });
        });
        $(function () {
            $('#other_day_historical').highcharts({
                chart: {
                    type: 'column'
                },
                title: {
                    text: '当日数据'
                },
                subtitle: {
                    text: '来源：各站点平均值'
                },
                xAxis: {
                    categories: [
                        '01:00',
                        '02:00',
                        '03:00',
                        '04:00',
                        '05:00',
                        '06:00',
                        '07:00',
                        '08:00',
                        '09:00',
                        '10-00',
                        '11:00',
                        '12:00',
                        '13:00',
                        '14:00',
                        '15:00',
                        '16:00',
                        '17:00'
                    ],
                    crosshair: true
                },
                yAxis: {
                    min: 0,
                    title: {
                        text: 'Rainfall (mm)'
                    }
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                    '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                },
                plotOptions: {
                    column: {
                        pointPadding: 0.2,
                        borderWidth: 0
                    }
                },
                series: [{
                    name: 'SO2',
                    data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4,49.9, 71.5, 106.4, 129.2, 144.0]
                }, {
                    name: 'O3',
                    data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3,83.6, 78.8, 98.5, 93.4, 106.0]
                }, {
                    name: 'CO',
                    data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 51.2,48.9, 38.8, 39.3, 41.4, 47.0]
                }, {
                    name: 'NO2',
                    data: [42.4, 33.2, 34.5, 39.7, 52.6, 75.5, 57.4, 60.4, 47.6, 39.1, 46.8, 51.1,2.4, 33.2, 34.5, 39.7, 52.6]
                },{
                    name: 'PM10',
                    data: [42.4, 33.2, 34.5, 39.7, 52.6, 75.5, 57.4, 60.4, 47.6, 39.1, 46.8, 51.1,42.4, 33.2, 34.5, 39.7, 52.6]
                }]
            });
        });

    </script>
{% endblock %}